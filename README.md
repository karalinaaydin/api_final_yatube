# Проект: API для Yatube

## Описание

Этот проект представляет собой **API для социальной сети Yatube**, где пользователи могут публиковать свои записи, комментировать посты других пользователей, а также подписываться на их обновления. API предоставляет доступ к функционалу платформы Yatube через стандартные HTTP-запросы.

**Функционал включает**:
- Получение списка всех публикаций и отдельных постов.
- Создание, редактирование и удаление постов.
- Комментирование постов.
- Подписка на авторов постов.
- Фильтрация и поиск по публикациям.

## Установка

Для локального развёртывания проекта выполните следующие шаги:

1. Клонируйте репозиторий на свой компьютер:
    ```bash
    git clone https://github.com/<ваш-логин>/api_yatube.git
    ```

2. Перейдите в директорию проекта:
    ```bash
    cd api_yatube
    ```

3. Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Windows: venv\Scripts\activate
    ```

4. Установите зависимости из файла `requirements.txt`:
    ```bash
    pip install -r requirements.txt
    ```

5. Выполните миграции базы данных:
    ```bash
    python manage.py migrate
    ```

6. Создайте суперпользователя для доступа к административной панели:
    ```bash
    python manage.py createsuperuser
    ```

7. Запустите проект:
    ```bash
    python manage.py runserver
    ```

Теперь проект доступен по адресу `http://127.0.0.1:8000/`.

## Примеры запросов к API

### Получение списка постов

**GET** `/api/v1/posts/`

Пример ответа:
```json
[
    {
        "id": 1,
        "text": "Мой первый пост!",
        "author": "user123",
        "pub_date": "2024-10-07T10:15:00Z",
        "group": null,
        "image": null
    },
    {
        "id": 2,
        "text": "Пост с изображением",
        "author": "user456",
        "pub_date": "2024-10-07T11:00:00Z",
        "group": "nature",
        "image": "/media/posts/post_image.jpg"
    }
]
```

### Создание нового поста

**POST** `/api/v1/posts/`

**Пример запроса:**

```json
{
  "text": "Тестовый пост для API",
  "group": 1
}
```

**Пример ответа:**

```json
{
  "id": 3,
  "text": "Тестовый пост для API",
  "author": "user123",
  "pub_date": "2024-10-07T12:30:00Z",
  "group": 1,
  "image": null
}
```

### Добавление комментария к посту

**POST /api/v1/posts/{post_id}/comments/**

**Пример запроса:**

```
json
{
  "text": "Отличный пост!"
}
```

**Пример ответа:**

```
json
{
  "id": 1,
  "text": "Отличный пост!",
  "author": "user123",
  "created": "2024-10-07T13:00:00Z",
  "post": 3
}
```


### Получение подписок пользователя

**GET /api/v1/follow/**

**Пример ответа:**

```
json
[
  {
    "user": "user123",
    "following": "author1"
  },
  {
    "user": "user123",
    "following": "author2"
  }
]
```

### Аутентификация

Для работы с API необходима аутентификация через JWT-токены. После регистрации пользователя необходимо получить токен по запросу:

**POST /api/v1/jwt/create/**

**Пример запроса:**

```
json
{
  "username": "user123",
  "password": "password123"
}
```

**Пример ответа:**


```
json
{
  "refresh": "токен для обновления",
  "access": "токен доступа"
}
```

Для доступа к защищённым эндпоинтам необходимо передавать токен доступа в заголовке Authorization:

```
Authorization: Bearer <токен доступа>
```

### Документация

Более детальная документация доступна по адресу /redoc/, где можно ознакомиться с полным списком эндпоинтов и их описанием.
